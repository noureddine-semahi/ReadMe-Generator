const { promisify } = require('util')
const download = promisify(require('download-git-repo'))
const ora = require('ora')
const fs = require('fs-extra')

module.exports = async function (url, tmpPath) {
  fs.emptyDirSync(tmpPath)
  const spinner = ora('Downloading template...')
    .start()
  try {
    await download(url, tmpPath)
    spinner.succeed()
  } catch (error) {
    spinner.fail()
    throw error
  }
}
